
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="../_static/favicon-16x16.png" sizes="16x16" rel="icon" type="image/png">
    <link href="../_static/favicon-32x32.png" sizes="32x32" rel="icon" type="image/png">
    <link rel="apple-touch-icon" href="../_static/apple-touch-icon.png" sizes="180x180" type="image/png">
    <title>IO Utilities &#8212; wsp-balsa 1.4.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'routines/io';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Modelling Utilities" href="modelling.html" />
    <link rel="prev" title="General Utilities" href="general.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Routines
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../logging/index.html">
                        Logging
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/wsp-sag/balsa" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Routines
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../logging/index.html">
                        Logging
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/wsp-sag/balsa" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="general.html">General Utilities</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">IO Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="modelling.html">Modelling Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrices.html">Matrix Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_intermediates.html">Triple-Index Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting Utilities</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Routines</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">IO Utilities</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="io-utilities">
<h1>IO Utilities<a class="headerlink" href="#io-utilities" title="Permalink to this heading">#</a></h1>
<p>Routines for reading and writing demand modelling files, particularly matrices and TMG Toolbox network packages.</p>
<section id="matrices">
<h2>Matrices<a class="headerlink" href="#matrices" title="Permalink to this heading">#</a></h2>
<section id="module-balsa.routines.io.common">
<span id="common"></span><h3>Common<a class="headerlink" href="#module-balsa.routines.io.common" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.common.coerce_matrix">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.common.</span></span><span class="sig-name descname"><span class="pre">coerce_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_raw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_square</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#balsa.routines.io.common.coerce_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>Infers a NumPy array from given input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>numpy.ndarray</em><em> | </em><em>pandas.DataFrame</em><em> | </em><em>pandas.Series</em>) – </p></li>
<li><p><strong>allow_raw</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>force_square</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A 2D ndarray of type float32</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.common.expand_array">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.common.</span></span><span class="sig-name descname"><span class="pre">expand_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#balsa.routines.io.common.expand_array" title="Permalink to this definition">#</a></dt>
<dd><p>Expands an array across all dimensions by a set amount</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>numpy.ndarray</em>) – The array to expand</p></li>
<li><p><strong>n</strong> (<em>numpy.ndarray</em>) – The (non-negative) number of items to expand by.</p></li>
<li><p><strong>axis</strong> (<em>int</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>. The axis to expand along, or None to expand along all axes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The expanded array</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.common.open_file">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.common.</span></span><span class="sig-name descname"><span class="pre">open_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_handle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">FileIO</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#balsa.routines.io.common.open_file" title="Permalink to this definition">#</a></dt>
<dd><p>Context manager for opening files provided as several different types. Supports a file handler as a str, unicode,
<code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code>, or an already-opened handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_handle</strong> (<em>str</em><em> | </em><em>Path</em><em> | </em><em>FileIO</em>) – The item to be opened or is already open.</p></li>
<li><p><strong>**kwargs</strong> – Keyword args passed to <code class="docutils literal notranslate"><span class="pre">open()</span></code>. Usually mode=’w’.</p></li>
</ul>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p><em>File</em> –     The opened file handler. Automatically closed once out of context.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-balsa.routines.io.inro">
<span id="inro-emme-format"></span><h3>Inro (Emme) format<a class="headerlink" href="#module-balsa.routines.io.inro" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.inro.peek_mdf">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.inro.</span></span><span class="sig-name descname"><span class="pre">peek_mdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">FileIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Index</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#balsa.routines.io.inro.peek_mdf" title="Permalink to this definition">#</a></dt>
<dd><p>Partially opens an MDF file to get the zone system of its rows and its columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em><em> | </em><em>FileIO</em><em> | </em><em>Path</em>) – The file to read.</p></li>
<li><p><strong>as_index</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>. Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to return a pandas.Index object rather than
List[int]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>One item for each dimension. If <code class="docutils literal notranslate"><span class="pre">as_index=True</span></code>, the items will be pandas.Index objects, otherwise they will be List[int]</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[int] or List[pandas.Index]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.inro.read_emx">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.inro.</span></span><span class="sig-name descname"><span class="pre">read_emx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">FileIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zones</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Index</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tall</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span></span></span><a class="headerlink" href="#balsa.routines.io.inro.read_emx" title="Permalink to this definition">#</a></dt>
<dd><p>Reads an “internal” Emme matrix (found in <cite>&lt;Emme Project&gt;/Database/emmemat</cite>); with an ‘.emx’ extension. This data
format does not contain information about zones. Its size is determined by the dimensions of the Emmebank
(<code class="docutils literal notranslate"><span class="pre">Emmebank.dimensions['centroids']</span></code>), regardless of the number of zones actually used in all scenarios.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em><em> | </em><em>File</em><em> | </em><em>Path</em>) – The file to read.</p></li>
<li><p><strong>zones</strong> (<em>int</em><em> | </em><em>Iterable</em><em>[</em><em>int</em><em>] </em><em>| </em><em>pandas.Index</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>. An Index or Iterable will be
interpreted as the zone labels for the matrix rows and columns; returning a DataFrame or Series (depending
on <code class="docutils literal notranslate"><span class="pre">tall</span></code>). If an integer is provided, the returned ndarray will be truncated to this ‘number of zones’.
Otherwise, the returned ndarray will be size to the maximum number of zone dimensioned by the Emmebank.</p></li>
<li><p><strong>tall</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>. If True, a 1D data structure will be returned. If <code class="docutils literal notranslate"><span class="pre">zone_index</span></code>
is provided, a Series will be returned, otherwise a 1D ndarray.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray, pandas.DataFrame, or pandas.Series.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>For a project with 20 zones:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">read_emx</span><span class="p">(</span><span class="s2">&quot;Database/emmemat/mf1.emx&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">type</span><span class="p">(</span><span class="n">matrix</span><span class="p">),</span> <span class="n">matrix</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(numpy.ndarray, (20, 20))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">read_emx</span><span class="p">(</span><span class="s2">&quot;Database/emmemat/mf1.emx&quot;</span><span class="p">,</span> <span class="n">zones</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">type</span><span class="p">(</span><span class="n">matrix</span><span class="p">),</span> <span class="n">matrix</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(numpy.ndarray, (10, 10))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">read_emx</span><span class="p">(</span><span class="s2">&quot;Database/emmemat/mf1.emx&quot;</span><span class="p">,</span> <span class="n">zones</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">type</span><span class="p">(</span><span class="n">matrix</span><span class="p">),</span> <span class="n">matrix</span><span class="o">.</span><span class="n">shape</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt; (10, 10)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">read_emx</span><span class="p">(</span><span class="s2">&quot;Database/emmemat/mf1.emx&quot;</span><span class="p">,</span> <span class="n">zones</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">tall</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">type</span><span class="p">(</span><span class="n">matrix</span><span class="p">),</span> <span class="n">matrix</span><span class="o">.</span><span class="n">shape</span>
<span class="go">&lt;class &#39;pandas.core.series.Series&#39;&gt; 100</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.inro.read_mdf">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.inro.</span></span><span class="sig-name descname"><span class="pre">read_mdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">FileIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tall</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span></span></span><a class="headerlink" href="#balsa.routines.io.inro.read_mdf" title="Permalink to this definition">#</a></dt>
<dd><p>Reads Emme’s official matrix “binary serialization” format, created using <code class="docutils literal notranslate"><span class="pre">inro.emme.matrix.MatrixData.save()</span></code>.
There is no official extension for this type of file; ‘.mdf’ is recommended. ‘.emxd’ is also sometimes encountered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em><em> | </em><em>FileIO</em><em> | </em><em>Path</em>) – The file to read.</p></li>
<li><p><strong>raw</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns an unlabelled ndarray. Otherwise, a DataFrame
will be returned.</p></li>
<li><p><strong>tall</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, a 1D data structure will be returned. If
<code class="docutils literal notranslate"><span class="pre">raw=False</span></code>, a Series will be returned, otherwise a 1D ndarray.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The matrix stored in the file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray, pandas.DataFrame, or pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.inro.to_emx">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.inro.</span></span><span class="sig-name descname"><span class="pre">to_emx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">FileIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emmebank_zones</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#balsa.routines.io.inro.to_emx" title="Permalink to this definition">#</a></dt>
<dd><p>Writes an “internal” Emme matrix (found in <cite>&lt;Emme Project&gt;/Database/emmemat</cite>); with an ‘.emx’ extension. The
number of zones that the Emmebank is dimensioned for must be known in order for the file to be written correctly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>pandas.DataFrame</em><em> | </em><em>pandas.Series</em><em> | </em><em>numpy.ndarray</em>) – The matrix to write to disk. If a Series is
given, it MUST have a MultiIndex with exactly 2 levels to unstack.</p></li>
<li><p><strong>file</strong> (<em>str</em><em> | </em><em>FileIO</em><em> | </em><em>Path</em>) – The path or file handler to write to.</p></li>
<li><p><strong>emmebank_zones</strong> (<em>int</em>) – The number of zones the target Emmebank is dimensioned for.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.inro.to_mdf">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.inro.</span></span><span class="sig-name descname"><span class="pre">to_mdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">FileIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#balsa.routines.io.inro.to_mdf" title="Permalink to this definition">#</a></dt>
<dd><p>Writes a matrix to Emme’s official “binary serialization” format, which can be loaded in Emme using
<code class="docutils literal notranslate"><span class="pre">inro.emme.matrix.MatrixData.load()</span></code>. There is no official extension for this type of file; ‘.mdf’ is recommended.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>pandas.DataFrame</em><em> | </em><em>panda.Series</em>) – The matrix to write to disk. If a Series is given, it MUST have
a MultiIndex with exactly 2 levels to unstack.</p></li>
<li><p><strong>file</strong> (<em>str</em><em> | </em><em>FileIO</em><em> | </em><em>Path</em>) – The path or file handler to write to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="omx-format">
<h3>OMX format<a class="headerlink" href="#omx-format" title="Permalink to this heading">#</a></h3>
<p>The Python library openmatrix already exists, but doesn’t provide a lot of interoperability with Pandas. Balsa provides
wrapper functions that produce Pandas DataFrames and Series directly from OMX files.</p>
<span class="target" id="module-balsa.routines.io.omx"></span><dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.omx.read_omx">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.omx.</span></span><span class="sig-name descname"><span class="pre">read_omx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tall</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">squeeze</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#balsa.routines.io.omx.read_omx" title="Permalink to this definition">#</a></dt>
<dd><p>Reads Open Matrix (OMX) files. An OMX file can contain multiple matrices, so this function
typically returns a Dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – OMX file from which to read. Cannot be an open file handler.</p></li>
<li><p><strong>tables</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – List of matrices to read from the file. If None, all matrices will be
read.</p></li>
<li><p><strong>mapping</strong> (<em>str</em><em>, </em><em>optional</em>) – The zone number mapping to use, if known in advance.</p></li>
<li><p><strong>tall</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, matrices will be returned in 1D format. Otherwise, a 2D object is returned.</p></li>
<li><p><strong>raw</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, matrices will be returned as raw Numpy arrays. Otherwise, Pandas objects are
returned</p></li>
<li><p><strong>squeeze</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, and the file contains exactly one matrix, return that matrix instead of a
Dict.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The matrix, or matrices contained in the OMX file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.omx.to_omx">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.omx.</span></span><span class="sig-name descname"><span class="pre">to_omx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dst_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Index</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">descriptions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'zone_numbers'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#balsa.routines.io.omx.to_omx" title="Permalink to this definition">#</a></dt>
<dd><p>Creates a new (or overwrites an old) OMX file with a collection of matrices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dst_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – OMX to write.</p></li>
<li><p><strong>(</strong><strong>Dict</strong><strong>[</strong><strong>str</strong> (<em>tables</em>) – Collection of matrices to write. MUST be a dict,
to permit the encoding of matrix metadata, and must contain the same types: all Numpy arrays, all
Series, or all DataFrames. Checking is done to ensure that all items have the same shape and labels.</p></li>
<li><p><strong>np.ndarray</strong><strong>]</strong> (<em>pd.DataFrame</em><em> | </em><em>pd.Series</em><em> |</em>) – Collection of matrices to write. MUST be a dict,
to permit the encoding of matrix metadata, and must contain the same types: all Numpy arrays, all
Series, or all DataFrames. Checking is done to ensure that all items have the same shape and labels.</p></li>
<li><p><strong>zone_index</strong> – (pd.Index, optional): Override zone labels to use. Generally only useful if writing a dict of
raw Numpy arrays.</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) – The title saved in the OMX file.</p></li>
<li><p><strong>descriptions</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em><em>, </em><em>optional</em>) – A dict of descriptions (one for each given matrix).</p></li>
<li><p><strong>attrs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Dict</em><em>]</em><em>, </em><em>optional</em>) – A dict of dicts (one for each given matrix).</p></li>
<li><p><strong>mapping_name</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the mapping internal to the OMX file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-balsa.routines.io.fortran">
<span id="fortran-format"></span><h3>Fortran format<a class="headerlink" href="#module-balsa.routines.io.fortran" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.fortran.read_fortran_rectangle">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.fortran.</span></span><span class="sig-name descname"><span class="pre">read_fortran_rectangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">FileIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zones</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Index</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tall</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reindex_rows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span></span></span><a class="headerlink" href="#balsa.routines.io.fortran.read_fortran_rectangle" title="Permalink to this definition">#</a></dt>
<dd><p>Reads a FORTRAN-friendly .bin file (a.k.a. ‘simple binary format’) which is known to NOT be square. Also works
with square matrices.</p>
<p>This file format is an array of 4-bytes, where each row is prefaced by an integer referring to the 1-based
positional index that FORTRAN uses. The rest of the data are in 4-byte floats. To read this, the number of columns
present must be known, since the format does not self-specify.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em><em> | </em><em>FileIO</em><em> | </em><em>Path</em>) – The file to read.</p></li>
<li><p><strong>n_columns</strong> (<em>int</em>) – The number of columns in the matrix.</p></li>
<li><p><strong>zones</strong> (<em>int</em><em> | </em><em>Iterable</em><em>[</em><em>int</em><em>] </em><em>| </em><em>pandas.Index</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>. An Index or Iterable will be
interpreted as the zone labels for the matrix rows and columns; returning a DataFrame or Series (depending
on <cite>tall</cite>). If an integer is provided, the returned ndarray will be truncated to this ‘number of zones’.</p></li>
<li><p><strong>tall</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>. If true, a ‘tall’ version of the matrix will be returned.</p></li>
<li><p><strong>reindex_rows</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>. If true, and zones is an Index, the returned DataFrame
will be reindexed to fill-in any missing rows.</p></li>
<li><p><strong>fill_value</strong> (<em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>. The value to pass to <code class="docutils literal notranslate"><span class="pre">pandas.reindex()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray, pandas.DataFrame or pandas.Series</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – if the shape is not valid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.fortran.read_fortran_square">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.fortran.</span></span><span class="sig-name descname"><span class="pre">read_fortran_square</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">FileIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zones</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Index</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tall</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span></span></span><a class="headerlink" href="#balsa.routines.io.fortran.read_fortran_square" title="Permalink to this definition">#</a></dt>
<dd><p>Reads a FORTRAN-friendly .bin file (a.k.a. ‘simple binary format’) which is known to be square.</p>
<p>This file format is an array of 4-bytes, where each row is prefaced by an integer referring to the 1-based
positional index that FORTRAN uses. The rest of the data are in 4-byte floats. To read this, the number of columns
present must be known, since the format does not self-specify. This method can infer the shape if it is square.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em><em> | </em><em>FileIO</em><em> | </em><em>Path</em>) – The file to read.</p></li>
<li><p><strong>zones</strong> (<em>int</em><em> | </em><em>pandas.Index</em><em> | </em><em>Iterable</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>. An Index or Iterable will be
interpreted as the zone labels for the matrix rows and columns; returning a DataFrame or Series (depending
on <code class="docutils literal notranslate"><span class="pre">tall</span></code>). If an integer is provided, the returned ndarray will be truncated to this ‘number of zones’.
Otherwise, the returned ndarray will be size to the maximum number of zone dimensioned by the Emmebank.</p></li>
<li><p><strong>tall</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>. If True, a 1D data structure will be returned. If <code class="docutils literal notranslate"><span class="pre">zone_index</span></code>
is provided, a Series will be returned, otherwise a 1D ndarray.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray, pandas.DataFrame, or pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.fortran.to_fortran">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.fortran.</span></span><span class="sig-name descname"><span class="pre">to_fortran</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">FileIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_square</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#balsa.routines.io.fortran.to_fortran" title="Permalink to this definition">#</a></dt>
<dd><p>Writes a FORTRAN-friendly .bin file (a.k.a. ‘simple binary format’), in a square format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>pandas.DataFrame</em><em> | </em><em>pandas.Series</em><em> | </em><em>numpy.ndarray</em>) – The matrix to write to disk. If a Series is
given, it MUST have a MultiIndex with exactly 2 levels to unstack.</p></li>
<li><p><strong>file</strong> (<em>str</em><em> | </em><em>FileIO</em><em> | </em><em>Path</em>) – The path or file handler to write to.</p></li>
<li><p><strong>n_columns</strong> (<em>int</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>. Specifies a desired “width” of the matrix file. For example,
<code class="docutils literal notranslate"><span class="pre">n_columns=4000</span></code> on a 3500x3500 matrix will pad the width with 500 extra columns containing 0. If <code class="docutils literal notranslate"><span class="pre">None</span></code>
is provided or the value is &lt;= the width of the given matrix, no padding will be performed.</p></li>
<li><p><strong>min_index</strong> (<em>int</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">1</span></code>. The lowest numbered row. Used when slicing matrices</p></li>
<li><p><strong>force_square</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="module-balsa.routines.io.nwp">
<span id="network-packages-nwp"></span><h2>Network Packages (NWP)<a class="headerlink" href="#module-balsa.routines.io.nwp" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.nwp.process_emme_eng_notation_series">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.nwp.</span></span><span class="sig-name descname"><span class="pre">process_emme_eng_notation_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s:</span> <span class="pre">~pandas.core.series.Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_dtype=&lt;class</span> <span class="pre">'float'&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#balsa.routines.io.nwp.process_emme_eng_notation_series" title="Permalink to this definition">#</a></dt>
<dd><p>A function to convert Pandas Series containing values in Emme’s engineering notation</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.nwp.read_nwp_base_network">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.nwp.</span></span><span class="sig-name descname"><span class="pre">read_nwp_base_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nwp_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#balsa.routines.io.nwp.read_nwp_base_network" title="Permalink to this definition">#</a></dt>
<dd><p>A function to read the base network from a Network Package file (exported from Emme using the TMG Toolbox) into
DataFrames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nwp_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – File path to the network package.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of DataFrames containing the nodes and links</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[pd.DataFrame, pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.nwp.read_nwp_exatts_list">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.nwp.</span></span><span class="sig-name descname"><span class="pre">read_nwp_exatts_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nwp_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#balsa.routines.io.nwp.read_nwp_exatts_list" title="Permalink to this definition">#</a></dt>
<dd><p>A function to read the extra attributes present in a Network Package file (exported from Emme using the TMG
Toolbox).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nwp_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – File path to the network package.</p></li>
<li><p><strong>**kwargs</strong> – Any valid keyword arguments used by <code class="docutils literal notranslate"><span class="pre">pandas.read_csv()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.nwp.read_nwp_link_attributes">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.nwp.</span></span><span class="sig-name descname"><span class="pre">read_nwp_link_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nwp_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#balsa.routines.io.nwp.read_nwp_link_attributes" title="Permalink to this definition">#</a></dt>
<dd><p>A function to read link attributes from a Network Package file (exported from Emme using the TMG Toolbox).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nwp_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – File path to the network package.</p></li>
<li><p><strong>attributes</strong> (<em>str</em><em> | </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>. Names of link attributes to extract. Note
that <code class="docutils literal notranslate"><span class="pre">'inode'</span></code> and <code class="docutils literal notranslate"><span class="pre">'jnode'</span></code> will be included by default.</p></li>
<li><p><strong>**kwargs</strong> – Any valid keyword arguments used by <code class="docutils literal notranslate"><span class="pre">pandas.read_csv()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.nwp.read_nwp_node_attributes">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.nwp.</span></span><span class="sig-name descname"><span class="pre">read_nwp_node_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nwp_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#balsa.routines.io.nwp.read_nwp_node_attributes" title="Permalink to this definition">#</a></dt>
<dd><p>A function to read node attributes from a Network Package file (exported from Emme using the TMG Toolbox).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nwp_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – File path to the network package.</p></li>
<li><p><strong>attributes</strong> (<em>str</em><em> | </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>. Names of node attributes to extract. Note
that <code class="docutils literal notranslate"><span class="pre">'inode'</span></code> will be included by default.</p></li>
<li><p><strong>**kwargs</strong> – Any valid keyword arguments used by <code class="docutils literal notranslate"><span class="pre">pandas.read_csv()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.nwp.read_nwp_traffic_results">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.nwp.</span></span><span class="sig-name descname"><span class="pre">read_nwp_traffic_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nwp_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#balsa.routines.io.nwp.read_nwp_traffic_results" title="Permalink to this definition">#</a></dt>
<dd><p>A function to read the traffic assignment results from a Network Package file (exported from Emme using the TMG
Toolbox).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nwp_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – File path to the network package.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.nwp.read_nwp_traffic_results_at_countpost">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.nwp.</span></span><span class="sig-name descname"><span class="pre">read_nwp_traffic_results_at_countpost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nwp_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">countpost_att</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#balsa.routines.io.nwp.read_nwp_traffic_results_at_countpost" title="Permalink to this definition">#</a></dt>
<dd><p>A function to read the traffic assignment results at countposts from a Network Package file (exported from Emme
using the TMG Toolbox).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nwp_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – File path to the network package.</p></li>
<li><p><strong>countpost_att</strong> (<em>str</em>) – The name of the extra link attribute containing countpost identifiers. Results will be
filtered using this attribute.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.nwp.read_nwp_transit_line_attributes">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.nwp.</span></span><span class="sig-name descname"><span class="pre">read_nwp_transit_line_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nwp_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#balsa.routines.io.nwp.read_nwp_transit_line_attributes" title="Permalink to this definition">#</a></dt>
<dd><p>A function to read transit line attributes from a Network Package file (exported from Emme using the TMG
Toolbox).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nwp_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – File path to the network package.</p></li>
<li><p><strong>attributes</strong> (<em>str</em><em> | </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>. Names of transit line attributes to extract.
Note that <code class="docutils literal notranslate"><span class="pre">'line'</span></code> will be included by default.</p></li>
<li><p><strong>**kwargs</strong> – Any valid keyword arguments used by <code class="docutils literal notranslate"><span class="pre">pandas.read_csv()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.nwp.read_nwp_transit_network">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.nwp.</span></span><span class="sig-name descname"><span class="pre">read_nwp_transit_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nwp_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#balsa.routines.io.nwp.read_nwp_transit_network" title="Permalink to this definition">#</a></dt>
<dd><p>A function to read the transit network from a Network Package file (exported from Emme using the TMG Toolbox)
into DataFrames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nwp_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – File path to the network package.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of DataFrames containing the transt lines and segments.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[pd.DataFrame, pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.nwp.read_nwp_transit_result_summary">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.nwp.</span></span><span class="sig-name descname"><span class="pre">read_nwp_transit_result_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nwp_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#balsa.routines.io.nwp.read_nwp_transit_result_summary" title="Permalink to this definition">#</a></dt>
<dd><p>A function to read and summarize the transit assignment boardings and max volumes from a Network Package file
(exported from Emme using the TMG Toolbox) by operator and route.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Transit line names in Emme must adhere to the TMG NCS16 for this function to work properly.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nwp_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – File path to the network package.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.nwp.read_nwp_transit_segment_results">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.nwp.</span></span><span class="sig-name descname"><span class="pre">read_nwp_transit_segment_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nwp_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#balsa.routines.io.nwp.read_nwp_transit_segment_results" title="Permalink to this definition">#</a></dt>
<dd><p>A function to read and summarize the transit segment boardings, alightings, and volumes from a Network Package
file (exported from Emme using the TMG Toolbox).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nwp_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – File path to the network package.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balsa.routines.io.nwp.read_nwp_transit_station_results">
<span class="sig-prename descclassname"><span class="pre">balsa.routines.io.nwp.</span></span><span class="sig-name descname"><span class="pre">read_nwp_transit_station_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nwp_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station_line_nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#balsa.routines.io.nwp.read_nwp_transit_station_results" title="Permalink to this definition">#</a></dt>
<dd><p>A function to read and summarize the transit boardings (on) and alightings (offs) at stations from a Network
Package file (exported from Emme using the TMG Toolbox).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ensure that station nodes being specified are on the transit line itself and are not station centroids.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nwp_fp</strong> (<em>str</em><em> | </em><em>PathLike</em>) – File path to the network package.</p></li>
<li><p><strong>station_line_nodes</strong> (<em>List</em><em>[</em><em>int</em><em>]</em>) – List of transit line nodes representing transit stops/stations</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="general.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">General Utilities</p>
      </div>
    </a>
    <a class="right-next"
       href="modelling.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Modelling Utilities</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#matrices">Matrices</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#module-balsa.routines.io.common">Common</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.common.coerce_matrix"><code class="docutils literal notranslate"><span class="pre">coerce_matrix()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.common.expand_array"><code class="docutils literal notranslate"><span class="pre">expand_array()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.common.open_file"><code class="docutils literal notranslate"><span class="pre">open_file()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#module-balsa.routines.io.inro">Inro (Emme) format</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.inro.peek_mdf"><code class="docutils literal notranslate"><span class="pre">peek_mdf()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.inro.read_emx"><code class="docutils literal notranslate"><span class="pre">read_emx()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.inro.read_mdf"><code class="docutils literal notranslate"><span class="pre">read_mdf()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.inro.to_emx"><code class="docutils literal notranslate"><span class="pre">to_emx()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.inro.to_mdf"><code class="docutils literal notranslate"><span class="pre">to_mdf()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#omx-format">OMX format</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.omx.read_omx"><code class="docutils literal notranslate"><span class="pre">read_omx()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.omx.to_omx"><code class="docutils literal notranslate"><span class="pre">to_omx()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#module-balsa.routines.io.fortran">Fortran format</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.fortran.read_fortran_rectangle"><code class="docutils literal notranslate"><span class="pre">read_fortran_rectangle()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.fortran.read_fortran_square"><code class="docutils literal notranslate"><span class="pre">read_fortran_square()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.fortran.to_fortran"><code class="docutils literal notranslate"><span class="pre">to_fortran()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-balsa.routines.io.nwp">Network Packages (NWP)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.nwp.process_emme_eng_notation_series"><code class="docutils literal notranslate"><span class="pre">process_emme_eng_notation_series()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.nwp.read_nwp_base_network"><code class="docutils literal notranslate"><span class="pre">read_nwp_base_network()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.nwp.read_nwp_exatts_list"><code class="docutils literal notranslate"><span class="pre">read_nwp_exatts_list()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.nwp.read_nwp_link_attributes"><code class="docutils literal notranslate"><span class="pre">read_nwp_link_attributes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.nwp.read_nwp_node_attributes"><code class="docutils literal notranslate"><span class="pre">read_nwp_node_attributes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.nwp.read_nwp_traffic_results"><code class="docutils literal notranslate"><span class="pre">read_nwp_traffic_results()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.nwp.read_nwp_traffic_results_at_countpost"><code class="docutils literal notranslate"><span class="pre">read_nwp_traffic_results_at_countpost()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.nwp.read_nwp_transit_line_attributes"><code class="docutils literal notranslate"><span class="pre">read_nwp_transit_line_attributes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.nwp.read_nwp_transit_network"><code class="docutils literal notranslate"><span class="pre">read_nwp_transit_network()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.nwp.read_nwp_transit_result_summary"><code class="docutils literal notranslate"><span class="pre">read_nwp_transit_result_summary()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.nwp.read_nwp_transit_segment_results"><code class="docutils literal notranslate"><span class="pre">read_nwp_transit_segment_results()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balsa.routines.io.nwp.read_nwp_transit_station_results"><code class="docutils literal notranslate"><span class="pre">read_nwp_transit_station_results()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/routines/io.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023, WSP Canada Inc..
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>